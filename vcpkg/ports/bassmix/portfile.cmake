set(FILE_SUFFIX "")
if(VCPKG_TARGET_IS_OSX)
	set(FILE_SUFFIX "-osx")
	set(FILE_HASH "c23935c1a0ffaef02672a0b48add8e66233b77795156828097dcfdc74131cc397d60356a25cddc043c285e537aac255660e23dd12507d371cd4814e937782bfb")
elseif(VCPKG_TARGET_IS_LINUX)
	set(FILE_SUFFIX "-linux")
	set(FILE_HASH "eefdfd2a5225c04cd80b4603d4dc2c13449ba11dae3cd210ac29ec6418bb15fb503441d9a91c52fcb52e2da5ac4ee9b69491fccb1b605db15ba076b45c03def1")
elseif(VCPKG_TARGET_IS_ANDROID)
	set(FILE_SUFFIX "-android")
	set(FILE_HASH "7aa0828ea90aa3616887df345c6504d5e549a831be108a9ae8ee54fc794b2f8c500206fa9616c04fa83980846c3ba580ca80b93254e8c9e32e67e21fbce1e99c")
elseif(VCPKG_TARGET_IS_IOS)
	set(FILE_SUFFIX "-ios")
	set(FILE_HASH "d5d11eff8561fdc0cdd2d6194b61ba5e054b83954c974dee55747d42c1d9cd77d2d28335a14a326afa5f3c3ae7e20df08d478dffa2c034b9f8fdfb6469ede1e2")
else()
	set(FILE_HASH "8d5693919ed61584b4b666d53663c02be87dd5db49e1508f3dcfdd0abc45a49c173ab4f7a08af72fa9d4844bae2967c0ff7fd77cf4923bb09fc265243d1ad9bd")
endif()
vcpkg_download_distfile(ARCHIVE
    URLS "https://www.un4seen.com/files/bassmix${VERSION}${FILE_SUFFIX}.zip"
    FILENAME "bassmix${VERSION}${FILE_SUFFIX}.zip"
    SHA512 ${FILE_HASH}
)
vcpkg_extract_source_archive(
    SOURCE_PATH
    ARCHIVE "${ARCHIVE}"
    NO_REMOVE_ONE_LEVEL
)
if(VCPKG_TARGET_IS_WINDOWS)
	file(INSTALL "${SOURCE_PATH}/c/bassmix.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
	file(INSTALL "${SOURCE_PATH}/c/x64/bassmix.lib" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	file(INSTALL "${SOURCE_PATH}/x64/bassmix.dll" DESTINATION "${CURRENT_PACKAGES_DIR}/bin")
elseif(VCPKG_TARGET_IS_OSX)
	file(INSTALL "${SOURCE_PATH}/bassmix.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
	file(INSTALL "${SOURCE_PATH}/libbassmix.dylib" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
elseif(VCPKG_TARGET_IS_LINUX)
	file(INSTALL "${SOURCE_PATH}/bassmix.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
	if(VCPKG_TARGET_ARCHITECTURE STREQUAL "arm64")
		file(INSTALL "${SOURCE_PATH}/libs/aarch64/libbassmix.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	else()
		file(INSTALL "${SOURCE_PATH}/libs/x86_64/libbassmix.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	endif()
elseif(VCPKG_TARGET_IS_ANDROID)
	file(INSTALL "${SOURCE_PATH}/c/bassmix.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
	file(INSTALL "${SOURCE_PATH}/libs/arm64-v8a/libbassmix.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
elseif(VCPKG_TARGET_IS_IOS)
	file(INSTALL "${SOURCE_PATH}/bassmix.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
	file(INSTALL "${SOURCE_PATH}/bassmix.xcframework" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
endif()
