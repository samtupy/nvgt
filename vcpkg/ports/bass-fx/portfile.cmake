set(FILE_SUFFIX "")
if(VCPKG_TARGET_IS_OSX)
	set(FILE_SUFFIX "-osx")
	set(FILE_HASH "d32fc616b7de93e5efc9cb1cd9798cd8a7c1ea6b6be53a05879f61059672da35f7db54a89d2e3a6261c8faa148dc79b58092cff3a40ac42626757c42702bc50f")
elseif(VCPKG_TARGET_IS_LINUX)
	set(FILE_SUFFIX "-linux")
	set(FILE_HASH "8ffef9c6f996fd678be0a3c9ea129289e13296317dac4cfc38c0772b1b770fe9311cbe7761d6ef4a49354d7fcab594fa05a3fbd424d92a94748a66165482c927")
elseif(VCPKG_TARGET_IS_ANDROID)
	set(FILE_SUFFIX "-android")
	set(FILE_HASH "276c557a403fc976dd7a065887c1852edfffc2168701b81f29e9cbb84fad974e0e2cb7bd96fabc4b68feb0abc0801ab7ffb0e069a826871f708aff3357035a67")
elseif(VCPKG_TARGET_IS_IOS)
	set(FILE_SUFFIX "-ios")
	set(FILE_HASH "3421b327b60f5ab507d3d609f59ef5b8b53866e044a216c8967e188725d1235235aebb62284aeeaacd3c6c052db1a10e27097fed257c9af082dac9a5bcdeeb25")
else()
	set(FILE_HASH "fc9fed9cd7f67fde40a0a49d420976e8564e8436cd5826d40b339f3fbe9c951d0476d81bb12fb132fe4d61d40b5dcc0ac88973dfb9f132dc3710fac4f6507844")
endif()
vcpkg_download_distfile(ARCHIVE
    URLS "https://nvgt.dev/downloads/bass/bass_fx${VERSION}${FILE_SUFFIX}.zip"
    FILENAME "bass_fx${VERSION}${FILE_SUFFIX}.zip"
    SHA512 ${FILE_HASH}
)
vcpkg_extract_source_archive(
    SOURCE_PATH
    ARCHIVE "${ARCHIVE}"
    NO_REMOVE_ONE_LEVEL
)
if(VCPKG_TARGET_IS_WINDOWS)
	file(INSTALL "${SOURCE_PATH}/c/bass_fx.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
	file(INSTALL "${SOURCE_PATH}/c/x64/bass_fx.lib" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	file(INSTALL "${SOURCE_PATH}/x64/bass_fx.dll" DESTINATION "${CURRENT_PACKAGES_DIR}/bin")
elseif(VCPKG_TARGET_IS_OSX)
	file(INSTALL "${SOURCE_PATH}/bass_fx.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
	file(INSTALL "${SOURCE_PATH}/libbass_fx.dylib" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
elseif(VCPKG_TARGET_IS_LINUX)
	file(INSTALL "${SOURCE_PATH}/C/bass_fx.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
	if(VCPKG_TARGET_ARCHITECTURE STREQUAL "arm64")
		file(INSTALL "${SOURCE_PATH}/libs/aarch64/libbass_fx.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	else()
		file(INSTALL "${SOURCE_PATH}/libs/x86_64/libbass_fx.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	endif()
elseif(VCPKG_TARGET_IS_ANDROID)
	file(INSTALL "${SOURCE_PATH}/c/bass_fx.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
	file(INSTALL "${SOURCE_PATH}/libs/arm64-v8a/libbass_fx.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
elseif(VCPKG_TARGET_IS_IOS)
	file(INSTALL "${SOURCE_PATH}/bass_fx.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
	file(INSTALL "${SOURCE_PATH}/bass_fx.xcframework" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
endif()
