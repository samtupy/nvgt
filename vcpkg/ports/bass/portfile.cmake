set(FILE_SUFFIX "")
if(VCPKG_TARGET_IS_OSX)
	set(FILE_SUFFIX "-osx")
	set(FILE_HASH "9501e56b411258330e57d793392cf28fc37f7cf93461a17ff0b58879469f2b2c5f272891d027b4737e4444f052c77536046e8f28c9d8e3f329cc786d927c8879")
elseif(VCPKG_TARGET_IS_LINUX)
	set(FILE_SUFFIX "-linux")
	set(FILE_HASH "3d18d6fa85f56403fe4ed75b9f81d997952f9aa04eec47edd47e912ee03a57f1dc206362db94594692edaaf53b760f9a2614914c4af6b4e48e0e52d80ad2e3e8")
elseif(VCPKG_TARGET_IS_ANDROID)
	set(FILE_SUFFIX "-android")
	set(FILE_HASH "472d7e7ed18db2e64c4f683598972e7ec5bfbe7c2855cd95d4ed07f851f9a2101b36d0cd72c4b88625587f4d19d7f4c94e74874c37c61048cb4bb5f691a93d5c")
elseif(VCPKG_TARGET_IS_IOS)
	set(FILE_SUFFIX "-ios")
	set(FILE_HASH "d5d11eff8561fdc0cdd2d6194b61ba5e054b83954c974dee55747d42c1d9cd77d2d28335a14a326afa5f3c3ae7e20df08d478dffa2c034b9f8fdfb6469ede1e2")
else()
	set(FILE_HASH "510c6b0fcd281e9c7c80630566149e231d8de4e5a546714839993529ce8278f86638f72e6df8a147ff926e42a8fb854b29d1cd3d7b2e10c93f9f0f04734c0567")
endif()
vcpkg_download_distfile(ARCHIVE
    URLS "https://www.un4seen.com/files/bass${VERSION}${FILE_SUFFIX}.zip"
    FILENAME "bass${VERSION}${FILE_SUFFIX}.zip"
    SHA512 ${FILE_HASH}
)
vcpkg_extract_source_archive(
    SOURCE_PATH
    ARCHIVE "${ARCHIVE}"
    NO_REMOVE_ONE_LEVEL
)
file(INSTALL "${SOURCE_PATH}/c/bass.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
if(VCPKG_TARGET_IS_WINDOWS)
	file(INSTALL "${SOURCE_PATH}/c/x64/bass.lib" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	file(INSTALL "${SOURCE_PATH}/x64/bass.dll" DESTINATION "${CURRENT_PACKAGES_DIR}/bin")
elseif(VCPKG_TARGET_IS_OSX)
	file(INSTALL "${SOURCE_PATH}/libbass.dylib" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
elseif(VCPKG_TARGET_IS_LINUX)
	if(VCPKG_TARGET_ARCHITECTURE STREQUAL "arm64")
		file(INSTALL "${SOURCE_PATH}/libs/aarch64/libbass.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	else()
		file(INSTALL "${SOURCE_PATH}/libs/x86_64/libbass.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	endif()
elseif(VCPKG_TARGET_IS_ANDROID)
	file(INSTALL "${SOURCE_PATH}/libs/arm64-v8a/libbass.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
elseif(VCPKG_TARGET_IS_IOS)
	file(INSTALL "${SOURCE_PATH}/bass.xcframework" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
endif()
