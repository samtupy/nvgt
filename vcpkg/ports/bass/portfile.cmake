set(FILE_SUFFIX "")
if(VCPKG_TARGET_IS_OSX)
	set(FILE_SUFFIX "-osx")
	set(FILE_HASH "bd2f523e331ff52e8b49c2696368793d68e6c3e674bd186a453dc8d7166578dfe8853cc7debd61176932336e01d091af302ce55cc6d7e1a8dfe4753583183aa2")
elseif(VCPKG_TARGET_IS_LINUX)
	set(FILE_SUFFIX "-linux")
	set(FILE_HASH "4c5e88287d5e655fdd0ee2a6398b024935d434638ce30e3347eea755a9e9287bb6c26fd85c1125e6f6b1bc3dec8dfcd9e88909371b09489aad8ca95dade0be16")
elseif(VCPKG_TARGET_IS_ANDROID)
	set(FILE_SUFFIX "-android")
	set(FILE_HASH "5bc1bd9926ec518bde1d19a438113e1fbf85c0fce21943453111b71b93c4925c078f6da64f7f279240cb46e3bef6515458bddb6d43240937391c3fa2f65eeb1a")
elseif(VCPKG_TARGET_IS_IOS)
	set(FILE_SUFFIX "-ios")
	set(FILE_HASH "9ad4a123bda1a4f2638a6354dd8602fdb4968738b0177da93a349f40de2ce44de9fbde463c14b34dd473078fa0014244ae3d11d3701a977d03d311622e4855f1")
else()
	set(FILE_HASH "a24f59b99195bc6107b481ef5386b2940ab010c052e65b30cab7b96e013638c3d4782f4e57786450d530cc5800a3a3c72be597ba19f51161ea509e93d48ff333")
endif()
vcpkg_download_distfile(ARCHIVE
    URLS "https://nvgt.dev/downloads/bass/bass${VERSION}${FILE_SUFFIX}.zip"
    FILENAME "bass${VERSION}${FILE_SUFFIX}.zip"
    SHA512 ${FILE_HASH}
)
vcpkg_extract_source_archive(
    SOURCE_PATH
    ARCHIVE "${ARCHIVE}"
    NO_REMOVE_ONE_LEVEL
)
file(INSTALL "${SOURCE_PATH}/c/bass.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
if(VCPKG_TARGET_IS_WINDOWS)
	file(INSTALL "${SOURCE_PATH}/c/x64/bass.lib" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	file(INSTALL "${SOURCE_PATH}/x64/bass.dll" DESTINATION "${CURRENT_PACKAGES_DIR}/bin")
elseif(VCPKG_TARGET_IS_OSX)
	file(INSTALL "${SOURCE_PATH}/libbass.dylib" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
elseif(VCPKG_TARGET_IS_LINUX)
	if(VCPKG_TARGET_ARCHITECTURE STREQUAL "arm64")
		file(INSTALL "${SOURCE_PATH}/libs/aarch64/libbass.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	else()
		file(INSTALL "${SOURCE_PATH}/libs/x86_64/libbass.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	endif()
elseif(VCPKG_TARGET_IS_ANDROID)
	file(INSTALL "${SOURCE_PATH}/libs/arm64-v8a/libbass.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
elseif(VCPKG_TARGET_IS_IOS)
	file(INSTALL "${SOURCE_PATH}/bass.xcframework" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
endif()
