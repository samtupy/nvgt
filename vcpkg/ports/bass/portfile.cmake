set(FILE_SUFFIX "")
if(VCPKG_TARGET_IS_OSX)
	set(FILE_SUFFIX "-osx")
	set(FILE_HASH "c09cc2aaa51755c4967aacbeace0983e59260145422480de783f12162687ba10e17df880c9cb2b6fcdb5531e5795d16753ef06c443f10bfa3fd227fb3beaa1e8")
elseif(VCPKG_TARGET_IS_LINUX)
	set(FILE_SUFFIX "-linux")
	set(FILE_HASH "cf90e219871e315db078c1b748ce7286e1405246782e8193174bf28d5e13c68cbabea3bdb3c852125b1de2cc0ac7d1aef9792c82dc084682e84a619fcac75049")
elseif(VCPKG_TARGET_IS_ANDROID)
	set(FILE_SUFFIX "-android")
	set(FILE_HASH "103f3ab02104e853831c59ab986f1428826c8adfa4db5b2240c5f8678a743e3eb46131044c3dbcad458646e7ac51888da6023d22a9ba632f637d941cbf193e1e")
elseif(VCPKG_TARGET_IS_IOS)
	set(FILE_SUFFIX "-ios")
	set(FILE_HASH "d5d11eff8561fdc0cdd2d6194b61ba5e054b83954c974dee55747d42c1d9cd77d2d28335a14a326afa5f3c3ae7e20df08d478dffa2c034b9f8fdfb6469ede1e2")
else()
	set(FILE_HASH "8261026ab1f827d387cc30614d51f531eb977333bcf087f2eca3c6ec15a792ef9856273201f3ea546d000646a7db339616a5a5e89e2179d4a74f0e139d5c8f5f")
endif()
vcpkg_download_distfile(ARCHIVE
    URLS "https://www.un4seen.com/files/bass${VERSION}${FILE_SUFFIX}.zip"
    FILENAME "bass${VERSION}${FILE_SUFFIX}.zip"
    SHA512 ${FILE_HASH}
)
vcpkg_extract_source_archive(
    SOURCE_PATH
    ARCHIVE "${ARCHIVE}"
    NO_REMOVE_ONE_LEVEL
)
if(VCPKG_TARGET_IS_WINDOWS)
	file(INSTALL "${SOURCE_PATH}/c/bass.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
	file(INSTALL "${SOURCE_PATH}/c/x64/bass.lib" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	file(INSTALL "${SOURCE_PATH}/x64/bass.dll" DESTINATION "${CURRENT_PACKAGES_DIR}/bin")
elseif(VCPKG_TARGET_IS_OSX)
	file(INSTALL "${SOURCE_PATH}/bass.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
	file(INSTALL "${SOURCE_PATH}/libbass.dylib" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
elseif(VCPKG_TARGET_IS_LINUX)
	file(INSTALL "${SOURCE_PATH}/bass.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
	if(VCPKG_TARGET_ARCHITECTURE STREQUAL "arm64")
		file(INSTALL "${SOURCE_PATH}/libs/aarch64/libbass.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	else()
		file(INSTALL "${SOURCE_PATH}/libs/x86_64/libbass.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
	endif()
elseif(VCPKG_TARGET_IS_ANDROID)
	file(INSTALL "${SOURCE_PATH}/c/bass.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
	file(INSTALL "${SOURCE_PATH}/libs/arm64-v8a/libbass.so" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
elseif(VCPKG_TARGET_IS_IOS)
	file(INSTALL "${SOURCE_PATH}/bass.h" DESTINATION "${CURRENT_PACKAGES_DIR}/include")
	file(INSTALL "${SOURCE_PATH}/bass.xcframework" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")
endif()
